schema: '2.0'
stages:
  prepare-dataset:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw/arcDataset
      md5: 6dcfb8f5fcb23f28a99b5954ec04317c.dir
      size: 852840944
      nfiles: 6047
    - path: src/data/make_dataset.py
      md5: c1fc25c09a8fa5483ff54791fff3afc4
      size: 1768
    outs:
    - path: data/processed/test
      md5: 14950d1003363a7bdf788cef9a1a0531.dir
      size: 4510614
      nfiles: 40
    - path: data/processed/train
      md5: 45616ca7033edc6e7d67671cdc4dc0e5.dir
      size: 11798900
      nfiles: 100
    - path: data/processed/val
      md5: 3393da06636fb39536408992de95e59c.dir
      size: 4354668
      nfiles: 37
  train:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/train
      md5: 45616ca7033edc6e7d67671cdc4dc0e5.dir
      size: 11798900
      nfiles: 100
    - path: data/processed/val
      md5: 3393da06636fb39536408992de95e59c.dir
      size: 4354668
      nfiles: 37
    - path: src/models/train_model.py
      md5: 1ed7c17dedd7078d4ee9e65de570eec6
      size: 1666
    outs:
    - path: models/saved-model/model.h5
      md5: 58a41afb28121d998f52e79b59229e30
      size: 17702912
    - path: models/saved-model/model.json
      md5: 0f1418205682a023cfca7284ea080325
      size: 1098
  predict:
    cmd: python src/models/predict_model.py
    deps:
    - path: data/processed/test
      md5: 14950d1003363a7bdf788cef9a1a0531.dir
      size: 4510614
      nfiles: 40
    - path: models/saved-model/model.h5
      md5: 58a41afb28121d998f52e79b59229e30
      size: 17702912
    - path: models/saved-model/model.json
      md5: 0f1418205682a023cfca7284ea080325
      size: 1098
    - path: src/models/predict_model.py
      md5: ddc5055b36efda6046498be50bc99092
      size: 1420
    outs:
    - path: src/models/results.txt
      md5: a3b7489e396237a8e080939bf794b6c6
      size: 1025
  feature-extraction:
    cmd: python src/data/feature_extraction.py
    deps:
    - path: data/raw/arcDataset
      md5: 6dcfb8f5fcb23f28a99b5954ec04317c.dir
      size: 852840944
      nfiles: 6047
    - path: src/data/feature_extraction.py
      md5: 2b8150baa582d07164f6e27dd53b7012
      size: 2204
    outs:
    - path: data/img_feature/images_features.csv
      md5: a7b04f09b9fe456e57fe7052da2c8a6d
      size: 586814
  great-expectations:
    cmd: python src/tests/run_img_features_checkpoint.py
    deps:
    - path: data/img_feature/images_features.csv
      md5: a7b04f09b9fe456e57fe7052da2c8a6d
      size: 586814
    - path: src/tests/run_img_features_checkpoint.py
      md5: 67c5f56ba02cd4fa7fc9f111c36a8fe2
      size: 1620
  test-dataset:
    cmd: pytest src/tests/test_dataset_code.py
    deps:
    - path: data/pytest/test_data_origin
      md5: 94260a638f3f9ead6399622270bd11a6.dir
      size: 6514105
      nfiles: 29
    - path: src/tests/test_dataset_code.py
      md5: 4f49ae48cecc40cdff345cc0f200188d
      size: 2213
  test-model:
    cmd: pytest src/tests/test_model.py
    deps:
    - path: data/processed/train
      md5: 5ce2b2ca9f505d36b12be4d9d60e843a.dir
      size: 30349924
      nfiles: 265
    - path: data/processed/val
      md5: 45619f86f602a39b2c4b017ced1272b7.dir
      size: 8831337
      nfiles: 45
    - path: params.yaml
      md5: a109dda6186f4eb2d104d334ab294696
      size: 236
    - path: src/tests/test_model.py
      md5: 8783ca6a8a9467884ae24a398ede940f
      size: 2341
